

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cross_validation &mdash; jl_spectra_2_structure 0.0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="neural_network" href="neural_network.html" />
    <link rel="prev" title="jl_spectra_2_structure" href="jl_spectra_2_structure.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> jl_spectra_2_structure
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="includeme.html">jl_spectra_2_structure</a></li>
</ul>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="jl_spectra_2_structure.html">jl_spectra_2_structure</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">cross_validation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-cross-validation-class">The <code class="docutils literal notranslate"><span class="pre">CROSS_VALIDATION</span></code> class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-load-cross-validation-class">The <code class="docutils literal notranslate"><span class="pre">LOAD_CROSS_VALIDATION</span></code> class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-nested-dict-class">The <code class="docutils literal notranslate"><span class="pre">NESTED_DICT</span></code> class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#the-nested-dict-to-dict-function">The <code class="docutils literal notranslate"><span class="pre">NESTED_DICT_to_DICT</span></code> function</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="neural_network.html">neural_network</a></li>
<li class="toctree-l1"><a class="reference internal" href="primary_data_creation/index.html">primary_data_creation</a></li>
<li class="toctree-l1"><a class="reference internal" href="plotting_tools.html">plotting_tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="error_metrics.html">error_metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto_examples/index.html">Examples</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">jl_spectra_2_structure</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>cross_validation</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/cross_validation.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cross-validation">
<h1>cross_validation<a class="headerlink" href="#cross-validation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-cross-validation-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">CROSS_VALIDATION</span></code> class<a class="headerlink" href="#the-cross-validation-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION">
<em class="property">class </em><code class="sig-name descname">CROSS_VALIDATION</code><span class="sig-paren">(</span><em class="sig-param">ADSORBATE='CO', INCLUDED_BINDING_TYPES=[1, 2, 3, 4], cv_indices_path=None, cross_validation_path=None, nanoparticle_path=None, high_coverage_path=None, coverage_scaling_path=None, VERBOSE=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for running cross validation. Splits primary data into balanced
folds and generates sets of secondary data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ADSORBATE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Adsorbate for which the spectra is to be generated.</p></li>
<li><p><strong>INCLUDED_BINDING_TYPES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Binding types whose frequencies/intensiteis from the primary data
set will be included in generating the complex spectra.</p></li>
<li><p><strong>cv_indices_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where indices for cross validation are saved or where
they are to be created if they have not yet been created.</p></li>
<li><p><strong>cross_validation_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where cross validation results are to be created.</p></li>
<li><p><strong>nanoparticle_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File path where nanoparticle or single adsorbate json data is saved.</p></li>
<li><p><strong>high_coverage_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File path where high coverage data for CO is saved saved.</p></li>
<li><p><strong>coverage_scaling_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File path where coverage scaling coefficients are saved.</p></li>
<li><p><strong>VERBOSE</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Controls the printing of status statements.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CV_INDICES_PATH</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path for cross validation indices.</p></li>
<li><p><strong>CV_PATH</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where cross validation results are to be created.</p></li>
<li><p><strong>NANO_PATH</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File path where nanoparticle or single adsorbate json data is saved.</p></li>
<li><p><strong>HIGH_COV_PATH</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File path where high coverage data for CO is saved saved.</p></li>
<li><p><strong>COV_SCALE_PATH</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File path where coverage scaling coefficients are saved.</p></li>
<li><p><strong>VERBOSE</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Controls the printing of status statements.</p></li>
<li><p><strong>ADSORBATE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Adsorbate for which the spectra is to be generated.</p></li>
<li><p><strong>INCLUDED_BINDING_TYPES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Binding types whose frequencies/intensiteis from the primary data
set will be included in generating the complex spectra.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._get_default_cross_validation_path">
<code class="sig-name descname">_get_default_cross_validation_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION._get_default_cross_validation_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._get_default_cross_validation_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cross validation path if not set by user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>cross_validation_path</strong> – Folder path where cross validation results are to be created.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._get_default_cv_indices_path">
<code class="sig-name descname">_get_default_cv_indices_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION._get_default_cv_indices_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._get_default_cv_indices_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Get cross validation indices path if not set by user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>cv_indices_path</strong> – Folder path where cross validation indices are to be created.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._get_state">
<code class="sig-name descname">_get_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION._get_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get important state variables of the class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Dict</strong> – State variables necessary to recreate the cross validation run.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._run_NN">
<code class="sig-name descname">_run_NN</code><span class="sig-paren">(</span><em class="sig-param">NUM_SAMPLES</em>, <em class="sig-param">INDICES</em>, <em class="sig-param">X_compare</em>, <em class="sig-param">y_compare</em>, <em class="sig-param">IS_TEST</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION._run_NN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._run_NN" title="Permalink to this definition">¶</a></dt>
<dd><p>run the neural network and generated validation statistics</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>NUM_SAMPLES</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of complex spectra to generate</p></li>
<li><p><strong>INDICES</strong> (<em>list of int</em>) – The indices of the primary data that will be selected.</p></li>
<li><p><strong>X_compare</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a>) – Complex spectra on which to test the model.</p></li>
<li><p><strong>Y_compare</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a>) – The target variable histogramsof the test or validation data.</p></li>
<li><p><strong>IS_TEST</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Indicates whether comparison set is the test set.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>NN</strong> (<em>neural_network.MLPRegressor</em>) – Trained neural network. Only instantiated if IS_TEST == True</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>Dict</strong> – Dictionary of validation or test results and statistics</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._set_ir_gen_class">
<code class="sig-name descname">_set_ir_gen_class</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION._set_ir_gen_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION._set_ir_gen_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Instantiates the class for generaitng complex spectra with
parameters set by set_model_parameters()</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MAINconv</strong> (<a class="reference internal" href="jl_spectra_2_structure.html#jl_spectra_2_structure.jl_spectra_2_structure.IR_GEN" title="jl_spectra_2_structure.jl_spectra_2_structure.IR_GEN"><em>IR_GEN</em></a>) – An IR_GEN class that will generate spectra and histograms of
of binding types or GCN groups</p></li>
<li><p><strong>OTHER_SITESconv</strong> (<a class="reference internal" href="jl_spectra_2_structure.html#jl_spectra_2_structure.jl_spectra_2_structure.IR_GEN" title="jl_spectra_2_structure.jl_spectra_2_structure.IR_GEN"><em>IR_GEN</em></a>) – An IR_GEN class that will generate spectra for binding types not
considered by MAINconv. Only instantiated if TARGET == ‘GCN’ and
GCN_ALL == False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.generate_test_cv_indices">
<code class="sig-name descname">generate_test_cv_indices</code><span class="sig-paren">(</span><em class="sig-param">CV_SPLITS=3, BINDING_TYPE_FOR_GCN=[1], test_fraction=0.25, random_state=0, read_file=False, write_file=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.generate_test_cv_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.generate_test_cv_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to generate the test and cross validation indices that
will be used to split the primary data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>CV_SPLITS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of cross validation splits</p></li>
<li><p><strong>BINDING_TYPE_FOR_GCN</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> or </em><em>'ALL'</em>) – The binding types to consider when tabulating the GCN values.
Primary data with other binding types is considered noise. If
‘ALL’ is selected all binding types are used and no noise is added
from other binding types as there are no other binding types.</p></li>
<li><p><strong>test_fraction</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The percent of primary data to keep for testing.</p></li>
<li><p><strong>random_state</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Can be set to None. Allows reproducibility.</p></li>
<li><p><strong>write_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Indicates whether the indices of the selected primary data for cross
validation is written to a json file.</p></li>
<li><p><strong>read_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Indicates whether indices for selecting primary data during cross
validation and testing is read from a file or directly from this
function.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CV_SPLITS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of cross validation splits</p></li>
<li><p><strong>BINDING_TYPE_FOR_GCN</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a><em> or </em><em>'ALL'</em>) – The binding types to consider when tabulating the GCN values.
Primary data with other binding types is considered noise. If
‘ALL’ is selected all binding types are used and no noise is added
from other binding types as there are no other binding types.</p></li>
<li><p><strong>INDICES_DICTIONARY</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of indices used in cross validation for both the
binding type model and the GCN model.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.get_secondary_data">
<code class="sig-name descname">get_secondary_data</code><span class="sig-paren">(</span><em class="sig-param">NUM_SAMPLES</em>, <em class="sig-param">INDICES</em>, <em class="sig-param">iterations=1</em>, <em class="sig-param">IS_TRAINING_SET=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.get_secondary_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.get_secondary_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get secondary data (complex spectra)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>NUM_SAMPLES</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of complex spectra to generate</p></li>
<li><p><strong>INDICES</strong> (<em>list of int</em>) – The indices of the primary data that will be selected.</p></li>
<li><p><strong>iterations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of times secondary data will be generated and strung
together. Allows for a more diverse set of complex spectra for
testing.</p></li>
<li><p><strong>IS_TRAINING_SET</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Indicates if the secondary set will be used for training or testing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>X</strong> (<em>numpy.ndarray</em>) – Coverage shifted frequencies and intensities</p></li>
<li><p><strong>Y</strong> (<em>The target variable histograms. Either binding-type or GCN label</em>)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.get_test_results">
<code class="sig-name descname">get_test_results</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.get_test_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.get_test_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary of a trained neural network evaluated on the
test results.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_Test</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a>) – Complex spectra on which to test the model.</p></li>
<li><p><strong>Y_Test</strong> (<a class="reference external" href="https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.17)"><em>numpy.ndarray</em></a>) – The target variable histogramsof the test data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Dict</strong> – Dictionary of test results and statistics</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.get_test_secondary_data">
<code class="sig-name descname">get_test_secondary_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.get_test_secondary_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.get_test_secondary_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one batch of secondary data (comlex spectra) for the test indices</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>X_Test</strong> (<em>numpy.ndarray</em>) – Complex spectra on which to test the model.</p></li>
<li><p><strong>Y_Test</strong> (<em>numpy.ndarray</em>) – The target variable histogramsof the test data.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.run_CV">
<code class="sig-name descname">run_CV</code><span class="sig-paren">(</span><em class="sig-param">write_file=False</em>, <em class="sig-param">CV_RESULTS_FILE=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.run_CV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.run_CV" title="Permalink to this definition">¶</a></dt>
<dd><p>run cross validation on one cross validation set at a time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Indicate whether cross validation results will be written out to
a file.</p></li>
<li><p><strong>CV_RESULTS_FILE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – File where cross validation results will be written as a json.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>CV_RESULTS_FILE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – File where cross validation results will be written as a json.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>DictList</strong> – Dictionary of cross validation and test results</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.run_CV_multiprocess">
<code class="sig-name descname">run_CV_multiprocess</code><span class="sig-paren">(</span><em class="sig-param">write_file=False</em>, <em class="sig-param">CV_RESULTS_FILE=None</em>, <em class="sig-param">num_procs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.run_CV_multiprocess"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.run_CV_multiprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>run multiple cross valdation sets and the test set simultaneously</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>write_file</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Indicate whether cross validation results will be written out to
a file.</p></li>
<li><p><strong>CV_RESULTS_FILE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – File where cross validation results will be written as a json.</p></li>
<li><p><strong>num_procs</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of processes to run at any given time.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>CV_RESULTS_FILE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – File where cross validation results will be written as a json.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>DictList</strong> – Dictionary of cross validation and test results</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list of dict</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.run_single_CV">
<code class="sig-name descname">run_single_CV</code><span class="sig-paren">(</span><em class="sig-param">CV_INDEX_or_TEST</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.run_single_CV"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.run_single_CV" title="Permalink to this definition">¶</a></dt>
<dd><p>run a single cross validation process or the test set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>CV_INDEX_or_TEST</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Indicates which cross validation set or if the test set is to be
run.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>Dict</strong> – Dictionary of a single cross validation or test result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.set_model_parameters">
<code class="sig-name descname">set_model_parameters</code><span class="sig-paren">(</span><em class="sig-param">TARGET</em>, <em class="sig-param">COVERAGE</em>, <em class="sig-param">MAX_COVERAGES</em>, <em class="sig-param">NN_PROPERTIES</em>, <em class="sig-param">NUM_TRAIN</em>, <em class="sig-param">NUM_VAL</em>, <em class="sig-param">NUM_TEST</em>, <em class="sig-param">MIN_GCN_PER_LABEL=0</em>, <em class="sig-param">NUM_GCN_LABELS=11</em>, <em class="sig-param">GCN_ALL=False</em>, <em class="sig-param">TRAINING_ERROR=None</em>, <em class="sig-param">LOW_FREQUENCY=200</em>, <em class="sig-param">HIGH_FREQUENCY=2200</em>, <em class="sig-param">ENERGY_POINTS=501</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.set_model_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.set_model_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets model parameters both for generating the secondary data
(complex spectra) and for running the neural network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TARGET</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Geometric descriptor for which the target histogram is to be gnerated.
Can be binding_type, GCN, or combine_hollow_sites. If it is
combine_hollow_sites then 3-fold and 4-fold sites are grouped together.</p></li>
<li><p><strong>COVERAGE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The coverage at which the synthetic spectra is generated. If high,
spectra at various coverages is generated.</p></li>
<li><p><strong>MAX_COVERAGES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Maximum coverages allowed for each binding-type if COVERAGE
is set to ‘high’</p></li>
<li><p><strong>NN_PROPERTIES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of properties for the neural network.</p></li>
<li><p><strong>NUM_TRAIN</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of secondary data (complex spectra) in a single training set.</p></li>
<li><p><strong>NUM_VAL</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of secondary data (complex spectra) in each validation set.</p></li>
<li><p><strong>NUM_TEST</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of secondary data (complex spectra) in the test set.</p></li>
<li><p><strong>MIN_GCN_PER_LABEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Minimum number of primary data points in each GCN group</p></li>
<li><p><strong>NUM_GCN_LABELS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The target number of GCN labels which to group the primary
data points (simple spectra).</p></li>
<li><p><strong>GCN_ALL</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether or not to include all binding types in tabulating GCN values.
If False, then only the selected binding types determined during the
creation of the cross validation indices will be used.</p></li>
<li><p><strong>TRAINING_ERROR</strong> (<em>str float</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Indicates the type of error induced in the training set. Can be
‘gaussian’, a float, or None. If ‘gaussian’ then gaussian error
is added to the scaling factor. If a float then uniform error is
added after scaling of the primary DFT data.</p></li>
<li><p><strong>LOW_FREQUENCY</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The lowest frequency for which synthetic spectra is generated</p></li>
<li><p><strong>HIGH_FREQUENCY</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The high frequency for which synthetic spectra is generated</p></li>
<li><p><strong>ENERGY_POINTS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of points the synthetic spectra is discretized into</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TARGET</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Geometric descriptor for which the target histogram is to be gnerated.
Can be binding_type, GCN, or combine_hollow_sites. If it is
combine_hollow_sites then 3-fold and 4-fold sites are grouped together.</p></li>
<li><p><strong>COVERAGE</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em> or </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The coverage at which the synthetic spectra is generated. If high,
spectra at various coverages is generated.</p></li>
<li><p><strong>MAX_COVERAGES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – Maximum coverages allowed for each binding-type if COVERAGE
is set to ‘high’</p></li>
<li><p><strong>NN_PROPERTIES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of properties for the neural network.</p></li>
<li><p><strong>NUM_TRAIN</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of secondary data (complex spectra) in a single training set.</p></li>
<li><p><strong>NUM_VAL</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of secondary data (complex spectra) in each validation set.</p></li>
<li><p><strong>NUM_TEST</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of secondary data (complex spectra) in the test set.</p></li>
<li><p><strong>MIN_GCN_PER_LABEL</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Minimum number of primary data points in each GCN group</p></li>
<li><p><strong>NUM_GCN_LABELS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The target number of GCN labels which to group the primary
data points (simple spectra).</p></li>
<li><p><strong>GCN_ALL</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – Whether or not to include all binding types in tabulating GCN values.
If False, then only the selected binding types determined during the
creation of the cross validation indices will be used.</p></li>
<li><p><strong>TRAINING_ERROR</strong> (<em>str float</em><em> or </em><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a>) – Indicates the type of error induced in the training set. Can be
‘gaussian’, a float, or None. If ‘gaussian’ then gaussian error
is added to the scaling factor. If a float then uniform error is
added after scaling of the primary DFT data.</p></li>
<li><p><strong>LOW_FREQUENCY</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The lowest frequency for which synthetic spectra is generated</p></li>
<li><p><strong>HIGH_FREQUENCY</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – The high frequency for which synthetic spectra is generated</p></li>
<li><p><strong>ENERGY_POINTS</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – The number of points the synthetic spectra is discretized into</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.set_nn_parameters">
<code class="sig-name descname">set_nn_parameters</code><span class="sig-paren">(</span><em class="sig-param">NN_PROPERTIES</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#CROSS_VALIDATION.set_nn_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION.set_nn_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set properties of the neural network so they can be changed after
all other model properties have been set</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>NN_PROPERTIES</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of properties for the neural network.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-load-cross-validation-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">LOAD_CROSS_VALIDATION</span></code> class<a class="headerlink" href="#the-load-cross-validation-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION">
<em class="property">class </em><code class="sig-name descname">LOAD_CROSS_VALIDATION</code><span class="sig-paren">(</span><em class="sig-param">cv_indices_path=None</em>, <em class="sig-param">cross_validation_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#jl_spectra_2_structure.cross_validation.CROSS_VALIDATION" title="jl_spectra_2_structure.cross_validation.CROSS_VALIDATION"><code class="xref py py-class docutils literal notranslate"><span class="pre">jl_spectra_2_structure.cross_validation.CROSS_VALIDATION</span></code></a></p>
<p>Child class for loading cross validation results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cv_indices_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where indices for cross validation are saved.</p></li>
<li><p><strong>cross_validation_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where cross validation results are stored.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>CV_FILES</strong> (<em>list of str</em>) – LIst of cross validation files.</p></li>
<li><p><strong>CV_INDICES_PATH_OLD</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where indices for cross validation are saved.</p></li>
<li><p><strong>CV_PATH_OLD</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where cross validation results are stored.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.get_NN">
<code class="sig-name descname">get_NN</code><span class="sig-paren">(</span><em class="sig-param">dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.get_NN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.get_NN" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a neural network from a dictionary containing properties
such as number of nodes, acitavtion functions, their coefficients and
their intercepts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dictionary</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary containing neural network results and properties</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>NN</strong> – Trained neural network.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>neural_network.MLPRegressor</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.get_best_models">
<code class="sig-name descname">get_best_models</code><span class="sig-paren">(</span><em class="sig-param">models_per_category</em>, <em class="sig-param">standard_deviations</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.get_best_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.get_best_models" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify the best neural networks for each category (CO, GCN, etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>models_per_category</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of models to include for each</p></li>
<li><p><strong>standard_deviations</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a>) – Number of standard deviations to add to the mean cross validation
loss in order select the best model. Optimizes but bias and
variance</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>BEST_MODELS</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of just the best model results and their corresponding
model index value</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>BEST_MODELS_dict</strong> –     Dictionary of just the best model results and their corresponding
model index value</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.get_keys">
<code class="sig-name descname">get_keys</code><span class="sig-paren">(</span><em class="sig-param">dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.get_keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.get_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all keys in a dictionary of dictionaries for viewing</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dictionary</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – A dictionary of dictionaries.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dictionary_of_keys</strong> – A dictionary of keys.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.load_CV_class">
<code class="sig-name descname">load_CV_class</code><span class="sig-paren">(</span><em class="sig-param">index</em>, <em class="sig-param">new_cv_indices_path=None</em>, <em class="sig-param">new_cross_validation_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.load_CV_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.load_CV_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all stored data from a single cross validation run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Indicates which cross validation result to load</p></li>
<li><p><strong>new_cv_indices_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where indices for new cross validation are to be saved.</p></li>
<li><p><strong>new_cross_validation_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder path where new cross validation results are to be saved.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>NN</strong> (<em>neural_network.MLPRegressor</em>) – Trained neural network.</p></li>
<li><p><strong>CV_DICT_LIST</strong> (<em>list of dict</em>) – List of dictionaries with cross validations results, statistics,
and the neural network traine on all cross validation data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.load_all_CV_data">
<code class="sig-name descname">load_all_CV_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.load_all_CV_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.load_all_CV_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load results from all cross validation runs in order to identify the
best neural network for each category (CO, GCN, etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><p><strong>CV_RESULTS</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – Dictionary of all cross validation results</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.plot_models">
<code class="sig-name descname">plot_models</code><span class="sig-paren">(</span><em class="sig-param">dictionary, figure_directory='show', model_list=None, xlim=[0, 200], ylim1=[0, 0.3], ylim2=[0, 0.3]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.plot_models"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.plot_models" title="Permalink to this definition">¶</a></dt>
<dd><p>plot model learning curves for all models in a given dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dictionary</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><em>dict</em></a>) – A dictionary of dictionaries.</p></li>
<li><p><strong>figure_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder location to save the learning curves</p></li>
<li><p><strong>model_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>list of int</em>) – If None each learning curve is displayed independently. If list
then the curves are compiled into one figure of two or four panels.</p></li>
<li><p><strong>xlim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – The start and end number for the epochs to show</p></li>
<li><p><strong>ylim1</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – The range of loss to show in the first figure if model_list is of
length 2. If model_list is of length 4 it is the range on the first
and third figures.</p></li>
<li><p><strong>ylim2</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.8)"><em>list</em></a>) – The range of loss to show in the second figure if model_list is of
length 2. If model_list is of length 4 it is the range on the
second and fourth figures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.plot_parity_plots">
<code class="sig-name descname">plot_parity_plots</code><span class="sig-paren">(</span><em class="sig-param">figure_directory='show'</em>, <em class="sig-param">model_list=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#LOAD_CROSS_VALIDATION.plot_parity_plots"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.LOAD_CROSS_VALIDATION.plot_parity_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot parity plots for models whose index is in model_list</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>figure_directory</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Folder location to save the the parity plots</p></li>
<li><p><strong>model_list</strong> (<a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)"><em>None</em></a><em> or </em><em>list of int</em>) – Can be None only if load_CV_class(index) has already been run.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="the-nested-dict-class">
<h2>The <code class="docutils literal notranslate"><span class="pre">NESTED_DICT</span></code> class<a class="headerlink" href="#the-nested-dict-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="jl_spectra_2_structure.cross_validation.NESTED_DICT">
<em class="property">class </em><code class="sig-name descname">NESTED_DICT</code><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#NESTED_DICT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.NESTED_DICT" title="Permalink to this definition">¶</a></dt>
<dd><p>Implementation of perl’s autovivification feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>dict</strong> – Returns a dictionary that is value so that setting key, value pair at
any key, value level will create all necessary keys/values if they
don’t exist up to that level</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#jl_spectra_2_structure.cross_validation.NESTED_DICT" title="jl_spectra_2_structure.cross_validation.NESTED_DICT">NESTED_DICT</a></p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="the-nested-dict-to-dict-function">
<h2>The <code class="docutils literal notranslate"><span class="pre">NESTED_DICT_to_DICT</span></code> function<a class="headerlink" href="#the-nested-dict-to-dict-function" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="jl_spectra_2_structure.cross_validation.NESTED_DICT_to_DICT">
<code class="sig-name descname">NESTED_DICT_to_DICT</code><span class="sig-paren">(</span><em class="sig-param">nested_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/jl_spectra_2_structure/cross_validation.html#NESTED_DICT_to_DICT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#jl_spectra_2_structure.cross_validation.NESTED_DICT_to_DICT" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a nested dict to a traditional python dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nested_dict</strong> (<a class="reference internal" href="#jl_spectra_2_structure.cross_validation.NESTED_DICT" title="jl_spectra_2_structure.cross_validation.NESTED_DICT"><em>NESTED_DICT</em></a>) – A dictionary of type NESTED_DICT</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dictionary</strong> – A python dictionary</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="neural_network.html" class="btn btn-neutral float-right" title="neural_network" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="jl_spectra_2_structure.html" class="btn btn-neutral float-left" title="jl_spectra_2_structure" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Joshua Lansford

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>